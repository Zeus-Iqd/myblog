---
title: "异步编程"
cover: "2.jpg"
date: "2018-08-31"
category: "生活"
tags:
    - 编程
    - 生活
    - 其他
---
#javascript 异步编程

* 异步的概念
* 怎么实现异步编程


```javascript
1. setTimeout
 console.log(1)
 setTimeout(e => {
     console.log(2)
 }, 0)

 console.log(3)
//  以上代码的输出顺序就是1，3，2。我们可以说setTimeout 是异步的。
```
 
 ```javascript

2. 事件天生异步
console.log(1)
let ele = document.createElement('div')
ele.innerText = '异步'
ele.onclick = ()=> {
    console.log(2)
}
document.body.appendChild(ele)
console.log(3)
// 以上代码的输出顺序就是1，3。 而2只有事件触发的时候才会被执行，ele.onclick 并不影响程序的执行。所以说Js 的事件天生就是异步的。
 ```

```javascript

 3. 异步ajax请求
 console.log(1)
let xhr = new XMLHttpRequest()
xhr.onload = function(res) {
  console.log(2)
  console.log(res)
}
xhr.open("get", "http://localhost:3001/get/todoList")
xhr.send();
console.log(3)
/*
 以上代码的输出顺序也是1，3，2. 当然这里可以自己实现个服务器来实现。
想改成同步的，只需要给open的第三个参数改为false
*/
```